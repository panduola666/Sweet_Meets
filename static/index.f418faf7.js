import{_ as N}from"./nuxt-link.aa6aa822.js";import{_ as S}from"./nuxt-icon.vue.b37372c8.js";import{d as w,C as r,D as p,R as t,S as d,N as f,a as j,L,n as B,J as D,O as x,H as m,U as T,M as b,I as v,u as l,_ as M,ag as V,X as I}from"./swiper-vue.41a83f98.js";import{_ as O}from"./nuxt-layout.9e45bdd0.js";import{c as R,_ as U}from"./entry.45617d07.js";import{u as z}from"./getFetchData.ef402cd9.js";import{p as E}from"./products.a8e63fa6.js";const F={class:"d-flex flex-column flex-md-row align-items-md-center justify-content-between"},G={class:"mb-0 fs-5"},H={"aria-label":"Page navigation example"},J={class:"pagination justify-content-end justify-content-md-start"},X=w({__name:"Pagination",props:["pagination"],emits:["click"],setup(c,{emit:e}){const{pagination:_}=c,s=e;function u(a){s("click",Number(_.current_page)+Number(a))}return(a,i)=>(r(),p("div",F,[t("p",G,"當前為第 "+d(c.pagination.current_page)+" 頁, 共 "+d(c.pagination.total_pages)+" 頁",1),t("nav",H,[t("ul",J,[t("li",{class:f(["page-item",{disabled:!c.pagination.has_pre}])},[t("button",{class:"page-link",onClick:i[0]||(i[0]=g=>u(-1))},"<")],2),t("li",{class:f(["page-item",{disabled:!c.pagination.has_next}])},[t("button",{class:"page-link",onClick:i[1]||(i[1]=g=>u(1))},">")],2)])])]))}}),q={class:"text-end mb-3"},A={class:"row g-3 g-lg-7"},K={class:"col-12 col-lg-2"},Q={class:"bg-white mx-auto fs-lg-4 fw-bold text-center border border-secondary shadow-sm d-flex d-lg-block overflow-auto"},W=["onClick"],Y={class:"col"},Z={class:"row g-4"},tt=["onClick"],et={class:"card product-card"},nt=["src","alt"],ot={class:"card-body p-2 p-lg-3"},st={class:"card-title h5 fw-bold"},at={class:"card-text fs-5 d-flex align-items-center justify-content-between"},ct={class:"col-12 text-center fs-3"},it={class:"row justify-content-end mt-3 mb-6"},lt={class:"col-lg-10"},rt=w({__name:"index",setup(c){const e=E(),_=["全部",...e.categoryList],s=j(_[0]);L(()=>{B(async()=>{await a(1)})});function u(o){s.value=o,a(1)}function a(o){e.adminGet({category:e.categoryList.includes(s.value)?s.value:"",page:o.toString()})}function i(o){e.product=o,R().push(`/admin/products/${o.id}`)}async function g(o){(await z({title:`確定刪除<span class="text-danger mx-3">${o.title}</span>嗎?`,showCancelButton:!0,allowOutsideClick:!1})).isConfirmed&&(await e.adminDel(o.id),a(e.pagination.current_page||"1"))}return(o,k)=>{const y=N,C=S,$=X,P=O;return r(),D(P,{name:"back",breadPath:[l(s)]},{default:x(()=>[t("div",q,[m(y,{to:"/admin/products/0",class:"btn btn-lg btn-secondary px-6"},{default:x(()=>[T("新增甜點")]),_:1})]),t("div",A,[t("aside",K,[t("ul",Q,[(r(),p(v,null,b(_,n=>t("li",{class:f(["p-3 border-bottom border-end flex-shrink-0 flex-grow-1 border-secondary pointer product-nav",{active:l(s)===n}]),key:n,onClick:h=>u(n)},d(n),11,W)),64))])]),t("div",Y,[t("div",Z,[(r(!0),p(v,null,b(l(e).products,n=>(r(),p("div",{class:"col-md-4 col-lg-3",onClick:h=>i(n)},[t("div",et,[t("img",{src:n.imageUrl,class:"card-img-top pointer object-fit-cover",alt:n.title,height:"150"},null,8,nt),t("div",ot,[t("p",st,d(n.title),1),t("p",at,[t("span",null,"$"+d(n.price),1),m(C,{name:"delete",class:"pointer",onClick:I(h=>g(n),["stop"])},null,8,["onClick"])])])])],8,tt))),256)),M(t("p",ct,"暫無資料",512),[[V,!l(e).products.length]])])])]),t("div",it,[t("div",lt,[m($,{pagination:l(e).pagination,onClick:a},null,8,["pagination"])])])]),_:1},8,["breadPath"])}}});const ht=U(rt,[["__scopeId","data-v-307b2959"]]);export{ht as default};
