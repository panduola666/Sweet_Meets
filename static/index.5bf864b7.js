import{_ as N}from"./nuxt-link.38771ac6.js";import{_ as j}from"./nuxt-icon.vue.92c8d068.js";import{d as k,C as c,D as r,R as t,S as _,N as f,a as L,L as S,n as B,J as D,O as x,H as m,U as T,M as b,I as v,u as d,X as M}from"./swiper-vue.e1fa97fa.js";import{_ as V}from"./nuxt-layout.c0181acc.js";import{c as I,_ as O}from"./entry.e092576f.js";import{u as R}from"./getFetchData.172d9c56.js";import{p as U}from"./products.bd2e496c.js";const z={class:"d-flex flex-column flex-md-row align-items-md-center justify-content-between"},E={class:"mb-0 fs-5"},F={"aria-label":"Page navigation example"},G={class:"pagination justify-content-end justify-content-md-start"},H=k({__name:"Pagination",props:["pagination"],emits:["click"],setup(i,{emit:e}){const{pagination:u}=i,s=e;function p(a){s("click",Number(u.current_page)+Number(a))}return(a,l)=>(c(),r("div",z,[t("p",E,"當前為第 "+_(i.pagination.current_page)+" 頁, 共 "+_(i.pagination.total_pages)+" 頁",1),t("nav",F,[t("ul",G,[t("li",{class:f(["page-item",{disabled:!i.pagination.has_pre}])},[t("button",{class:"page-link",onClick:l[0]||(l[0]=g=>p(-1))},"<")],2),t("li",{class:f(["page-item",{disabled:!i.pagination.has_next}])},[t("button",{class:"page-link",onClick:l[1]||(l[1]=g=>p(1))},">")],2)])])]))}}),J={class:"text-end mb-3"},X={class:"row g-3 g-lg-7"},q={class:"col-12 col-lg-2"},A={class:"bg-white mx-auto fs-lg-4 fw-bold text-center border border-secondary shadow-sm d-flex d-lg-block overflow-auto"},K=["onClick"],Q={class:"col"},W={key:0,class:"row g-4"},Y=["onClick"],Z={class:"card product-card"},tt=["src"],et={class:"card-body p-2 p-lg-3"},nt={class:"card-title h5 fw-bold"},ot={class:"card-text fs-5 d-flex align-items-center justify-content-between"},st={key:1,class:"text-center fs-3"},at={class:"row justify-content-end mt-3 mb-6"},ct={class:"col-lg-10"},it=k({__name:"index",setup(i){const e=U(),u=["全部",...e.categoryList],s=L(u[0]);S(()=>{B(async()=>{await a(1)})});function p(n){s.value=n,a(1)}function a(n){e.adminGet({category:e.categoryList.includes(s.value)?s.value:"",page:n.toString()})}function l(n){e.product=n,I().push(`/admin/products/${n.id}`)}async function g(n){(await R({title:`確定刪除<span class="text-danger mx-3">${n.title}</span>嗎?`,showCancelButton:!0,allowOutsideClick:!1})).isConfirmed&&(await e.adminDel(n.id),a(e.pagination.current_page||"1"))}return(n,y)=>{const w=N,C=j,$=H,P=V;return c(),D(P,{name:"back",breadPath:[d(s)]},{default:x(()=>[t("div",J,[m(w,{to:"/admin/products/0",class:"btn btn-lg btn-secondary px-6"},{default:x(()=>[T("新增甜點")]),_:1})]),t("div",X,[t("aside",q,[t("ul",A,[(c(),r(v,null,b(u,o=>t("li",{class:f(["p-3 border-bottom border-end flex-shrink-0 flex-grow-1 border-secondary pointer product-nav",{active:d(s)===o}]),key:o,onClick:h=>p(o)},_(o),11,K)),64))])]),t("div",Q,[d(e).products.length?(c(),r("div",W,[(c(!0),r(v,null,b(d(e).products,o=>(c(),r("div",{class:"col-md-4 col-lg-3",onClick:h=>l(o)},[t("div",Z,[t("img",{src:o.imageUrl,class:"card-img-top pointer object-fit-cover",alt:"",height:"150"},null,8,tt),t("div",et,[t("p",nt,_(o.title),1),t("p",ot,[t("span",null,"$"+_(o.price),1),m(C,{name:"delete",class:"pointer",onClick:M(h=>g(o),["stop"])},null,8,["onClick"])])])])],8,Y))),256))])):(c(),r("p",st,"暫無資料"))])]),t("div",at,[t("div",ct,[m($,{pagination:d(e).pagination,onClick:a},null,8,["pagination"])])])]),_:1},8,["breadPath"])}}});const mt=O(it,[["__scopeId","data-v-a1ec4141"]]);export{mt as default};
