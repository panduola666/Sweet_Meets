import{g as o,u}from"./getFetchData.c25b01e9.js";import{e as l,k as a,c as f}from"./entry.66adc481.js";import{a as m}from"./swiper-vue.e1fa97fa.js";const w=l("user",()=>{const t=m(!1);async function n(e){try{const s=await o({url:"/admin/signin",method:"POST",params:e});if(s.success){const c=a("token",{expires:new Date(s.expired)});c.value=s.token,t.value=!0}}catch{}}async function i(){const e=await o({url:"/api/user/check",method:"POST"});e&&(t.value=e.success)}async function r(){const e=a("token");e.value=null,(await u({title:"已登出",showConfirmButton:!1,timer:3e3})).isDismissed&&f().push("/")}return{isLogin:t,login:n,checkLogin:i,logout:r}});export{w as u};
